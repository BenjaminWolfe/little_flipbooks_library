---
title: "a WDI mini flipbook"
subtitle: "âš”<br/>made with xaringan"
author: "Gina Reynolds"
date: "2019/03/05"
output:
  xaringan::moon_reader:
    chakra: libs/remark-latest.min.js
    lib_dir: libs
    css: ["kunoichi", "ninjutsu"]
    nature:
      ratio: "20:10"
      highlightLines: true
---


# Introduction


The [WDI package](https://github.com/vincentarelbundock/WDI) written by Vincent Arel-Bundock accesses the the World Bank's World Development indicators via an API.  This mini flipbook walk you though some ways you might utilize this cool package. 


Note: Another package exists that Vincent made me aware of: [wbstats](https://cran.r-project.org/web/packages/wbstats/wbstats.pdf).  This package is another option for accessing the World Development indicators via the API.  


```{r, echo = T}
source("xaringan_reveal.R")
knitr::opts_chunk$set(cache = T)
```


---

```{r setup, message=FALSE}
library(tidyverse)
library(WDI)
WDIsearch(string = "food")
```

"SN.ITK.DFCT" is "Depth of the food deficit (kilocalories per person per day)"   

"Application programming interface"

---

```{r make_wdi_data}
WDI(country = "all", indicator = "SN.ITK.DFCT", extra = T) %>%
  rename(food_deficit = SN.ITK.DFCT) %>%
  filter(region != "Aggregates") ->
  wdi_data
```

---

`r apply_reveal("make_wdi_data")`

---


```{r country_subset}
wdi_data %>%
  filter(country == "Chile" | country == "Argentina") ->
  wdi_argentina_chile
```

---

`r apply_reveal("country_subset")`

---




```{r time_series_plot}
ggplot(data = wdi_argentina_chile) +
  aes(x = year, y = food_deficit) +
  geom_point() +
  geom_line() +
  aes(col = country) +
  scale_y_continuous(limits = c(0, 30))
```

---

`r apply_reveal("time_series_plot")`

---


```{r world_map_data}
map_data("world") %>%
  mutate(iso3c = countrycode::countrycode(region, "country.name", "iso3c")) %>%
  rename(polygon_regions = region) ->
  world_map
```

---

<!-- `r apply_reveal("world_map_data")` -->

---


<!-- ```{r joined_data} -->
<!-- world_map %>% -->
<!--   full_join(wdi_data %>% filter(year == 2007)) -> -->
<!--   world_map_wdi -->
<!-- ``` -->

<!-- --- -->

<!-- `r apply_reveal("joined_data")` -->

<!-- --- -->

<!-- ```{r plot_maps} -->
<!-- ggplot(world_map_wdi %>% filter(polygon_regions != "Antarctica")) + -->
<!--   aes(x = long, y = lat, group = group, fill = food_deficit) + -->
<!--   geom_polygon() + -->
<!--   coord_equal() + -->
<!--   theme_void() + -->
<!--   scale_fill_viridis_c(option = "magma") -->
<!-- ``` -->


---

<!-- `r apply_reveal("plot_maps")` -->

<!-- --- -->


---

```{css, eval = TRUE, echo = F}
.remark-code{line-height: 1.5; font-size: 50%}
```
